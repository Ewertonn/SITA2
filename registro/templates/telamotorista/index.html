<!DOCTYPE html>
{% load staticfiles %}



<html lang="en">

	<head>
		<title>Motorista</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="">
		<!-- teste 1 -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="{% static 'telamotorista/css/teste.css' %}">
		<meta charset="UTF-8">
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<!-- Bootstrap core CSS -->
		<link href="{% static 'telamotorista/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

		<!-- Custom fonts for this template -->
		<link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
		<link href="{% static 'telamotorista/vendor/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">
		<link href="{% static 'telamotorista/vendor/devicons/css/devicons.min.css' %}" rel="stylesheet">
		<link href="{% static 'telamotorista/vendor/simple-line-icons/css/simple-line-icons.css' %}" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="{% static 'telamotorista/css/resume.min.css'%}" rel="stylesheet">

	</head>

	<body id="page-top">
		{% if messages %}
		<div style="position: absolute;top: 2%;left: 20%;color: red;">
			<ul class="messages">
			    {% for message in messages %}
			    {% if message.tags %} {% endif %} {{ message }}
			    {% endfor %}
			</ul>
		</div>
		{% endif %}

		<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
			<a class="navbar-brand js-scroll-trigger" href="#page-top">
				<span class="d-block d-lg-none">SITA</span>
				<span class="d-none d-lg-block">
					<img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="img/profile.jpg" alt="">
				</span>
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav">
					<li class="nav-item">
						<!-- teste1-->
						<div class="w3-container">
							<button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-large">Gerenciar rotas</button>
							<div id="id01" class="w3-modal">
								<div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:800px ">
									<div class="w3-bar w3-border-bottom">
										<span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-blue w3-display-topright" title="Close Modal">&times;</span>
										<button class="tablink w3-bar-item w3-blue w3-button" onclick="openCity(event, 'Criar')">Criar</button>
										<button class="tablink w3-bar-item w3-blue w3-button" onclick="openCity(event, 'Editar')">Editar</button>
									</div>
									<div id="Criar" class="w3-container city">
										<div class="w3-center"><br>
											<img src="img/logo.png" alt="Carro" style="width:21%" class="w3-circle w3-margin-top">
										</div>



										<div class="main-agileits">
												<h2 class="sub-head">Registrar-se</h2>
												<div class="sub-main">	
													<form action="#" method="post">
														{% csrf_token %}
														<p style="margin-bottom: 0px;">Partida:</p>
														{{ form3.Rota_pontopartida }}
														<p style="margin-bottom: 0px;">Chegada:</p>
														{{ form3.Rota_pontochegada }}
														<p style="margin-bottom: 0px;">Local Da Partida:</p>
														{{ form3.Rota_localpartida }}
														<p style="margin-bottom: 0px;">Horario Da Rota:</p>
														{{ form3.Rota_horario }}
														<p style="margin-bottom: 0px;">Data Da Rota:</p>
														{{ form3.Rota_data }}
														<p style="margin-bottom: 0px;">Veiculo Utilizado:</p>
														{{ form3.Rota_veiculo }}
														<p style="margin-bottom: 0px;">Valor Da Passagem:</p>
														{{ form3.valor }}
														<div class="row">
															<div class="col-md-12">
																

															</div>
														</div>
														<button type="submit">Submit</button>
													</form>
												</div>
										
												<div class="clear"></div>
											

										</div>

										<div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
											<button onclick="document.getElementById('id01').style.display='none'" type="button" class="w3-button w3-red">Cancel</button>
										</div>
									</div>
									<div id="Editar" class="w3-container city">
										<!--teste1-->
										<table class="table">
											<thead>
												<h4 style="color:#868e96">Rotas</h4>
												<tr>
													<th>Origem</th>
													<th>Destino</th>
													<th>Local de saída</th>
													<th>Preço</th>
													<th>Horario</th>
													<th>Data</th>
													<th>Ações</th>
												</tr>
											</thead>
											<tbody>
												{% for rota in rotas %}
													

													
														
															<tr>
																<td> {{ rota.Rota_pontopartida }} </td>
																<td> {{rota.Rota_pontochegada}} </td>
																<td>{{rota.Rota_localpartida}}</td>
																<td>{{rota.valor}}</td>
																<td>{{rota.Rota_horario }}</td>
																<td>{{rota.Rota_data}}</td>
																<td>
																		
																	<a href="{% url 'deletar_rota' rota.Rota_id %}" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
																</td>
																</tr>
														
											
												{% endfor %}

											</tbody>
											
										</table>
										
										<!--teste1-->
									</div>
								</div>
							</div>
						</div>
						<!--teste1-->
					</li>
					<li class="nav-item">
						<button id="myBtn" class="w3-button w3-large">Reservas</button>
						<div id="myModal" class="modal">
							<div class="modal-content">
								<span class="close">&times;</span>
								<table border="1" width="100%">
								<tr><td>Nº de Reserva</td><td>Número do cliente</td><td>E-mail do cliente</td></td><td>Cliente</td><td>Ponto de Partida</td><td>Ponto de Chegada</td><td>Data</td><td>Horario</td></tr>
								{% for reserva in reservas%}
									
									{% for rota in reserva.Reserva_rota.all %}
											<tr>
											<td>{{reserva.Reserva_id}}</td>
											<td>{{reserva.Usuario.usuario.Usuario_contato}}</td>
											<td>{{reserva.Usuario.usuario.user.email}}</td>
											
											<td>{{reserva.Usuario}}</td>
										
											
												<td>{{rota.Rota_pontopartida}}</td>
												<td>{{rota.Rota_pontochegada}}</td>
												<td>{{rota.Rota_data}}</td>
												<td>{{rota.Rota_horario}}</td>
										
											</tr>
										 
									{%endfor%}
								{%endfor%}
								</table>
							</div>
						</div>	
					</li>

					<div class="w3-container">
							<button onclick="document.getElementById('id02').style.display='block'" class="w3-button w3-large">Gerenciar Veiculos</button>
							<div id="id02" class="w3-modal">
								<div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:800px ">
									<div class="w3-bar w3-border-bottom">
										<span onclick="document.getElementById('id02').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-blue w3-display-topright" title="Close Modal">&times;</span>
										<button class="tablink w3-bar-item w3-blue w3-button" onclick="openCity(event, 'Meus Veiculos')">Meus Veiculos</button>
										<button class="tablink w3-bar-item w3-blue w3-button" onclick="openCity(event, 'Adicionar Veiculo')">Adicionar Veiculo</button>
									</div>
									<div id="Meus Veiculos" class="w3-container city">
										 
										<table border="1" width="100%">
										<tr><td>Nº do Veiculo</td><td>Placa</td><td>Modelo</td><td>Cor</td></tr>
										{% for veiculo in veiculos%}
												
													<tr>
													<td>{{veiculo.Veiculo_id}}</td>
													<td>{{veiculo.Veiculo_placa}}</td>
													<td>{{veiculo.Veiculo_modelo}}</td>
													<td>{{veiculo.Veiculo_cor}}</td>
													</tr>

										
										{%endfor%}
										</table>

									</div>
									<div id="Adicionar Veiculo" class="w3-container city">
										
										<center><form action="#" method="post" style="width:30%">
												{% csrf_token %}
												<p style="margin:0px;">Placa do Veiculo:</p>
												{{ form2.Veiculo_placa }}
												<p style="margin:0px;">Modelo:</p>
												{{ form2.Veiculo_modelo }}
												<p style="margin:0px;">Cor do Veiculo:</p>
												{{ form2.Veiculo_cor }}
												<p> </p>
												<input type="submit" value="Criar Veiculo">
											</form></center>

										
									</div>
								</div>
							</div>
						</div>
						<!--teste1-->
					</li>
					
					
					<li>
						<a href="/sita/home2" class="w3-button w3-large">Início</a>
					</li>
					<li><a href="/sita/logout" class="w3-button w3-large">Logout</a></li>
				</ul>
			</div>
		</nav>

		<div class="container-fluid p-0">
			<section class="resume-section p-3 p-lg-5 d-flex d-column" id="about">
				<div class="my-auto">
					<h1 class="mb-0" >{{ user.username}}
					</h1>
					<div class="subheading mb-5"> {{user.motorista.Motorista_contato}} ·
						<a href="mailto:name@email.com"> {{ user.email }} </a>
					</div>
					<p class="mb-5"><input type="text" name="Nome" size="40" placeholder="Descrição" /> </p>
				</div>
			</section>
	  
			<script>
				document.getElementsByClassName("tablink")[0].click();
				function openCity(evt, cityName) {
					var i, x, tablinks;
					x = document.getElementsByClassName("city");
					for (i = 0; i < x.length; i++) {
						x[i].style.display = "none";
					}
					tablinks = document.getElementsByClassName("tablink");
					for (i = 0; i < x.length; i++) {
						tablinks[i].classList.remove("w3-light-grey");
					}
					document.getElementById(cityName).style.display = "block";
					evt.currentTarget.classList.add("w3-light-grey");
				}
			</script>

			<script>
				function myFunction() {
					var checkBox = document.getElementById("myCheck");
					var text = document.getElementById("text");
					if (checkBox.checked == true){
						text.style.display = "block";
					} else {
						text.style.display = "none";
					}
				}

				function lindia() {
					var checkBox = document.getElementById("lindi");
					var text = document.getElementById("jesus");
					if (checkBox.checked == true){
						text.style.display = "block";
					} else { 
					   text.style.display = "none";
					}
				}
			</script>

			<script>
				var modal = document.getElementById('myModal');
				var btn = document.getElementById("myBtn");
				var span = document.getElementsByClassName("close")[0];
				btn.onclick = function() {
					modal.style.display = "block";
				}
				span.onclick = function() {
					modal.style.display = "none";
				}
				window.onclick = function(event) {
					if (event.target == modal) {
						modal.style.display = "none";
					}
				}
			</script>
	</body>

</html>
